<%- include('partials/header') %>

  <div class="container mt-5">
    <h1>Login</h1>

    <div class="row">
      <div class="col-sm-8">
        <div class="card">
          <div class="card-body">

            <!--login form -->
            <form action="/login" method="POST">
              <div class="form-group">
                <label for="user_input">Email</label>
                <input type="email" class="form-control" name="username" id="user_input" >
              </div>

              <div class="form-group">
                <label for="pwd_input">Password</label>
                <i id="togglePassword" class="ml-2 fa-solid fa-eye"></i>
                <input type="password" class="form-control" name="password"  id="pwd_input">
               

              </div>
              <button type="submit" class="btn btn-dark">Login</button>
            </form>

          </div>
        </div>
   
<!-- GOOGLE-------------------------------------------------------- -->
        <div class="card">
            <a class="btn btn-block" href="/auth/google" role="button">
              <i class="fab fa-google pr-1"></i>
              Sign in with Google
            </a>       
        </div>
    </div>
  </div>
<!-- pwd hide /show -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
      const passwordField = document.getElementById('pwd_input');
      const togglePasswordIcon = document.getElementById('togglePassword');

      if (passwordField && togglePasswordIcon) {
          togglePasswordIcon.addEventListener('click', function () {
              const type = passwordField.getAttribute('type') === 'password' ? 'text' : 'password';
              passwordField.setAttribute('type', type);

              // Toggle icon
              this.classList.toggle('fa-eye');
              this.classList.toggle('fa-eye-slash');
          });
      } else {
          console.error('Password field or toggle icon not found');
      }
  });
</script>
  <%- include('partials/footer') %>
